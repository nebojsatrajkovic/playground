<?xml version="1.0" encoding="utf-8" ?>
<Template>

	<Meta Method_Namespace="zugseilmeasuringinbll.Operation.DirectDB.Products" Method_ClassName="Get_BusinessParticipant_IntegrationData" />

	<PlattformInfo  Target_Method_ProgrammingLanguage="C#"
					Target_Method_ProgrammingLanguage_Revision="3.5"
					Target_SQL="MySQL"
					Target_SQL_Revision="8"
					Create_Webservice_Interface="true"
					Create_Webservice_Interface_ServerPlattform="C#"
					Create_Webservice_Interface_ServerPlattform_Revision="3.5"
					Create_Webservice_Interface_ApplicationPlattform="FLEX"
					Create_Webservice_Interface_ApplicationPlattform_Revision="4.5"
                  />

	<CreationInfo Method_Namespace="zugseilbusinessparticipantsbll.Operation.DirectDB.BusinessParticipants"
				  Method_ClassName="cls_Get_BusinessParticipant_IntegrationData"
				  Method_Name="Get_BusinessParticipant_IntegrationData"
				  ApplicationPlattform_WebServiceName=""
				  ApplicationPlattform_Namespace=".Get_BusinessParticipant_IntegrationData"
                />

	<SQL>
		Select
		cmn_bpt_businessparticipants.CMN_BPT_BusinessParticipantID,
		bop_networkroles.BOP_NetworkRoleID,
		bop_networkroles.NetworkRole_GID,
		bop_networkroles.NetworkRole_Name_DictID,
		bop_relation_roles_trustlevels.BOP_Relation_Roles_TrustLevelID,
		bop_relation_roles_trustlevels.Relation_Roles_TrustLevel_GID,
		bop_relation_roles_trustlevels.Relation_Roles_TrustLevel_Title_DictID,
		bop_interidentityrelation_role_assignment_status.BOP_InterIdentityRelation_Role_Assignment_StatusID,
		bop_interidentityrelation_role_assignment_status.Relation_Role_Assignment_Status_GID,
		bop_interidentityrelation_role_assignment_status.Relation_Role_Assignment_Status_Name_DictID,
		bop_interidentityrelations_types.BOP_InterIdentityRelationTypeID,
		bop_interidentityrelations_types.InterIdentityRelations_Type_Title_DictID,
		bop_interidentityrelations.BOP_InterIdentityRelationID,
		bop_interidentityrelation_role_assignments.BOP_InterIdentityRelation_Role_AssignmentID,
		log_wrh_warehouses.LOG_WRH_WarehouseID,
		log_wrh_warehouses.CoordinateCode,
		log_wrh_warehouses.Warehouse_Name,
		internal_network_roles.BOP_NetworkRoleID as InternalNetworkRoleID,
		internal_network_roles.NetworkRole_Name_DictID as  InternalNetworkRole_NameDictID,
		log_wrh_ownrole_assigned_trustlevel_warehouses.TransferCustomerOwnedStockInformation,
		log_wrh_ownrole_assigned_trustlevel_warehouses.TransferSelfOwnedStockInformation
		From
		cmn_bpt_businessparticipants Left Join
		bop_interidentityrelation_role_assignments On cmn_bpt_businessparticipants.CMN_BPT_BusinessParticipantID =
		bop_interidentityrelation_role_assignments.BusinessParticipant_RefID
		And bop_interidentityrelation_role_assignments.IsDeleted = 0
		And bop_interidentityrelation_role_assignments.Tenant_RefID = @TenantID Left Join
		bop_networkroles On
		bop_networkroles.BOP_NetworkRoleID = bop_interidentityrelation_role_assignments.Network_Role_RefID
		And bop_networkroles.IsDeleted = 0
		And bop_networkroles.Tenant_RefID = @TenantID Left Join
		bop_interidentityrelations On bop_interidentityrelations.BOP_InterIdentityRelationID =
		bop_interidentityrelation_role_assignments.InterIdentityRelation_RefID
		And bop_interidentityrelations.IsDeleted = 0
		And bop_interidentityrelations.Tenant_RefID = @TenantID Left Join
		bop_interidentityrelations_types On bop_interidentityrelations_types.BOP_InterIdentityRelationTypeID =
		bop_interidentityrelations.InterIdentityRelations_Type_RefID
		And bop_interidentityrelations_types.IsDeleted = 0
		And bop_interidentityrelations_types.Tenant_RefID = @TenantID Left Join
		bop_relation_ownrole_assigned_trustlevels On
		bop_interidentityrelation_role_assignments.BOP_InterIdentityRelation_Role_AssignmentID =
		bop_relation_ownrole_assigned_trustlevels.InterIdentityRelation_Role_Assignment_RefID
		And bop_relation_ownrole_assigned_trustlevels.IsDeleted = 0
		And bop_relation_ownrole_assigned_trustlevels.Tenant_RefID = @TenantID Left Join
		bop_relation_roles_trustlevels On bop_relation_roles_trustlevels.BOP_Relation_Roles_TrustLevelID =
		bop_relation_ownrole_assigned_trustlevels.Relation_Roles_TrustLevel_RefID
		And bop_relation_roles_trustlevels.IsDeleted = 0
		And bop_relation_roles_trustlevels.Tenant_RefID = @TenantID Left Join
		bop_interidentityrelation_role_assignment_status On
		bop_interidentityrelation_role_assignment_status.BOP_InterIdentityRelation_Role_Assignment_StatusID =
		bop_interidentityrelation_role_assignments.Current_Relation_Role_Assignment_Status_RefID
		And bop_interidentityrelation_role_assignment_status.IsDeleted = 0
		And bop_interidentityrelation_role_assignment_status.Tenant_RefID = @TenantID Left Join
		log_wrh_ownrole_assigned_trustlevel_warehouses On
		log_wrh_ownrole_assigned_trustlevel_warehouses.BOP_Relation_OwnRole_Assigned_TrustLevel_RefID =
		bop_relation_ownrole_assigned_trustlevels.BOP_Relation_OwnRole_Assigned_TrustLevelID
		And log_wrh_ownrole_assigned_trustlevel_warehouses.IsDeleted = 0
		And log_wrh_ownrole_assigned_trustlevel_warehouses.Tenant_RefID = @TenantID Left Join
		log_wrh_warehouses On
		log_wrh_warehouses.LOG_WRH_WarehouseID = log_wrh_ownrole_assigned_trustlevel_warehouses.Warehouse_RefID
		And log_wrh_warehouses.IsDeleted = 0
		And log_wrh_warehouses.Tenant_RefID = @TenantID Left Join

		cmn_bpt_assigned_bopnetworkroles On cmn_bpt_assigned_bopnetworkroles.Businessparticipant_RefID =
		cmn_bpt_businessparticipants.CMN_BPT_BusinessParticipantID
		And cmn_bpt_assigned_bopnetworkroles.IsDeleted = 0
		And cmn_bpt_assigned_bopnetworkroles.Tenant_RefID = @TenantID Left  Join

		bop_networkroles internal_network_roles On internal_network_roles.BOP_NetworkRoleID = cmn_bpt_assigned_bopnetworkroles.BOP_NetworkRole_RefID
		And internal_network_roles.IsDeleted = 0
		And internal_network_roles.Tenant_RefID = @TenantID
		Where
		cmn_bpt_businessparticipants.IsDeleted = 0 And
		cmn_bpt_businessparticipants.Tenant_RefID = @TenantID And
		cmn_bpt_businessparticipants.CMN_BPT_BusinessParticipantID = @ID
	</SQL>

	<Parameters IsClass="true" Name="P_BPT_BP_GBPID_1114">
		<Members>
			<ClassMember Name="ID" Type="Guid" />
		</Members>
	</Parameters>

	<Result Returns_just_the_status_of_the_operation="false"
				  Returns_a_StandardDataType_or_StadardDataTypeArray="false"
				  Returns_an_Object_or_ObjectArray="true">

		<ResultClass Name="BPT_BP_GBPID_1114" IsArray="false" GroupBy="CMN_BPT_BusinessParticipantID">
			<Members>

				<ClassMember Name="CMN_BPT_BusinessParticipantID" Type="Guid" />

				<ClassMember Name="IntertenantRoles" Type="BPT_BP_GBPID_1114_IntertenantRole" IsClass="true" IsArray="true" GroupBy="BOP_InterIdentityRelation_Role_AssignmentID">
					<Members>
						<ClassMember Name="BOP_NetworkRoleID" Type="Guid" />
						<ClassMember Name="NetworkRole_GID" Type="Guid" />
						<ClassMember Name="Relation_Role_Name" OriginTable="bop_networkroles" Source_DBField="NetworkRole_Name_DictID" Type="Dict" />

						<ClassMember Name="BOP_InterIdentityRelationTypeID" Type="Guid" />
						<ClassMember Name="Relation_Type_Title" OriginTable="bop_interidentityrelations_types" Source_DBField="InterIdentityRelations_Type_Title_DictID" Type="Dict" />

						<ClassMember Name="BOP_InterIdentityRelationID" Type="Guid" />
						<ClassMember Name="BOP_InterIdentityRelation_Role_AssignmentID" Type="Guid" />

						<ClassMember Name="BOP_InterIdentityRelation_Role_Assignment_StatusID" Type="Guid" />
						<ClassMember Name="Relation_Role_Assignment_Status_GID" Type="Guid" />
						<ClassMember Name="Relation_Role_Assignment_Status_Name" OriginTable="bop_interidentityrelation_role_assignment_status" Source_DBField="Relation_Role_Assignment_Status_Name_DictID" Type="Dict" />

						<ClassMember Name="TrustLevels" Type="BPT_BP_GBPID_1114_TrustLevel" IsClass="true" IsArray="true" GroupBy="BOP_Relation_Roles_TrustLevelID">
							<Members>
								<ClassMember Name="BOP_Relation_Roles_TrustLevelID" Type="Guid" />
								<ClassMember Name="Relation_Roles_TrustLevel_GID" Type="Guid" />
								<ClassMember Name="Relation_Roles_TrustLevel_Title" OriginTable="bop_relation_roles_trustlevels" Source_DBField="Relation_Roles_TrustLevel_Title_DictID" Type="Dict" />

								<ClassMember Name="TrustLevel_SharedWarehouses" Type="BPT_BP_GBPID_1114_TrustLevel_SharedWarehouse" IsClass="true" IsArray="true" GroupBy="LOG_WRH_WarehouseID">
									<Members>
										<ClassMember Name="LOG_WRH_WarehouseID" Type="Guid" />
										<ClassMember Name="CoordinateCode" Type="string" />
										<ClassMember Name="Warehouse_Name" Type="string" />
										<ClassMember Name="TransferCustomerOwnedStockInformation" Type="bool" />
										<ClassMember Name="TransferSelfOwnedStockInformation" Type="bool" />
									</Members>
								</ClassMember>
							</Members>
						</ClassMember>
					</Members>
				</ClassMember>

				<ClassMember Name="InternalRoles" Type="BPT_BP_GBPID_1114_InternalRole" IsClass="true" IsArray="true" GroupBy="InternalNetworkRoleID">
					<Members>
						<ClassMember Name="InternalNetworkRoleID" Type="Guid" />
						<ClassMember Name="Role_Name" OriginTable="bop_networkroles" Source_DBField="InternalNetworkRole_NameDictID" Type="Dict" />
					</Members>
				</ClassMember>
			</Members>
		</ResultClass>

	</Result>

</Template>


